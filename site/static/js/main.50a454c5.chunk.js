(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{32:function(e,t,a){e.exports=a(46)},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var r=a(13),n=a.n(r),c=a(0),s=a.n(c),i=a(12),o=(a(37),a(38),a(14)),l=a(9),u=a(25),p=a(26),m=a(28),h=(a(39),function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=new Date(1);e.setUTCSeconds(this.props.current.sys.sunrise);var t=new Date(1);return t.setUTCSeconds(this.props.current.sys.sunset),s.a.createElement("div",{className:"current-weather-cont"},s.a.createElement("img",{className:"weather-ico",src:"https://openweathermap.org/img/wn/".concat(this.props.current.weather[0].icon,"@2x.png"),alt:"weather info"}),s.a.createElement("div",{className:"temp-info"},s.a.createElement("p",{className:"temp bold"},this.props.current.main.temp,"\xb0C",s.a.createElement("span",{className:"feels_like"},"feels like ",this.props.current.main.feels_like,"\xb0C")),s.a.createElement("p",{className:"sep"},"|"),s.a.createElement("p",{className:"oth-det"},s.a.createElement("span",{className:"bold"},this.props.current.weather[0].main)),s.a.createElement("p",{className:"sep"},"|"),s.a.createElement("p",{className:"oth-det"}," ",this.props.current.main.temp_min,"/",this.props.current.main.temp_max,"\xb0C")),s.a.createElement("p",{className:"misc-info misc-info--sep"},"Pressure ",this.props.current.main.pressure," hPa ",s.a.createElement("span",{className:"gap"})," Humidity ",this.props.current.main.humidity,"%"),s.a.createElement("p",{className:"misc-info"},"Wind speed ",this.props.current.wind.speed," mtr/sec ",s.a.createElement("span",{className:"gap"})," Wind direction ",this.props.current.wind.deg,"\xb0(meteorological)"),s.a.createElement("p",{className:"misc-info"},"Sunrise ",e.getHours()+":"+e.getMinutes(),"AM ",s.a.createElement("span",{className:"gap"})," Sunset ",t.getHours()+":"+t.getMinutes(),"PM"),s.a.createElement("p",{className:"loc misc-info"},s.a.createElement("i",{className:"material-icons"},"place"),s.a.createElement("span",null,"(",this.props.current.coord.lat,", ",this.props.current.coord.lon,")")))}}]),t}(s.a.Component)),d=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],f=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function b(e){var t=new Date(1);return t.setUTCSeconds(e.item.dt),s.a.createElement("div",{className:"future-status__item"},s.a.createElement("label",{className:"item"},d[t.getDay()]),s.a.createElement("label",{className:"item"},f[t.getMonth()]," ",t.getDate()),s.a.createElement("label",{className:"item"},t.getHours()+":"+t.getMinutes()),s.a.createElement("img",{className:"item ico",src:"https://openweathermap.org/img/wn/".concat(e.item.weather[0].icon,"@2x.png"),alt:"weather info"}),s.a.createElement("label",{className:"item"},e.item.weather[0].main),s.a.createElement("label",{className:"item"},e.item.main.temp_min,"/",e.item.main.temp_max,"\xb0C"))}function E(e){return e.currentWeather?s.a.createElement("div",{className:"home-container"},s.a.createElement(h,{current:e.currentWeather}),s.a.createElement("div",{className:"future-status"},e.forecast.list.map((function(e){return s.a.createElement(b,{item:e})})))):null}var w=a(73),g=a(69),v=a(72),W=a(74),N=a(75),x=a(71),y=a(19),D=a.n(y),k=a(23),C={appid:"adb9dd6b20cadd87d12b7df253187477",api:{currentWeatherDataByCityUrl:"https://api.openweathermap.org/data/2.5/weather?q={location}&appid={appid}&units=metric",currentWeatherDataByCoordUrl:"https://api.openweathermap.org/data/2.5/weather?lat={lat}&lon={lon}&appid={appid}&units=metric",currentWeatherForecastDataByCoordUrl:"https://api.openweathermap.org/data/2.5/forecast?lat={lat}&lon={lon}&appid=adb9dd6b20cadd87d12b7df253187477&units=metric"}},S=function(){function e(t){Object(o.a)(this,e),this.appDataStore=t}return Object(l.a)(e,[{key:"getCurrentForecastWeatherData",value:function(){var e=Object(k.a)(D.a.mark((function e(t){var a,r,n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.appDataStore.currentForecastWeather){e.next=2;break}return e.abrupt("return",this.appDataStore.currentForecastWeather);case 2:if(a="",!t.lat||!t.lon){e.next=7;break}a=C.api.currentWeatherForecastDataByCoordUrl.replace("{lat}",t.lat.toString()).replace("{lon}",t.lon.toString()),e.next=8;break;case 7:throw new Error("Location not defined");case 8:return a=a.replace("{appid}",C.appid),e.next=11,fetch(a);case 11:if(!(r=e.sent).ok){e.next=21;break}return e.next=15,r.json();case 15:return n=e.sent,this.appDataStore.currentForecastWeather=n,this.appDataStore.currentForecastWeather$.next(n),e.abrupt("return",n);case 21:throw new Error("error while invoking current weather data");case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCurrentWeatherData",value:function(){var e=Object(k.a)(D.a.mark((function e(t){var a,r,n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.appDataStore.currentWeather){e.next=2;break}return e.abrupt("return",this.appDataStore.currentWeather);case 2:if(a="",!t.city){e.next=7;break}a=C.api.currentWeatherDataByCityUrl.replace("{location}",t.city),e.next=12;break;case 7:if(!t.lat||!t.lon){e.next=11;break}a=C.api.currentWeatherDataByCoordUrl.replace("{lat}",t.lat.toString()).replace("{lon}",t.lon.toString()),e.next=12;break;case 11:throw new Error("Location not defined");case 12:return a=a.replace("{appid}",C.appid),e.next=15,fetch(a);case 15:if(!(r=e.sent).ok){e.next=25;break}return e.next=19,r.json();case 19:return n=e.sent,this.appDataStore.currentWeather=n,this.appDataStore.currentWeather$.next(n),e.abrupt("return",n);case 25:throw new Error("error while invoking current weather data");case 26:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),j=a(70),O=new(function(){function e(){Object(o.a)(this,e),this.currentWeather=null,this.currentForecastWeather=null,this.currentLocation={},this.currentWeather$=new j.a,this.currentForecastWeather$=new j.a}return Object(l.a)(e,[{key:"destroy",value:function(){this.currentWeather$.unsubscribe()}}]),e}()),F=new S(O),M=s.a.createContext(F),U=s.a.createContext(O);function _(){var e=Object(c.useState)(),t=Object(i.a)(e,2),a=t[0],r=t[1],n=Object(c.useContext)(U),o=new Date(1);return a&&o.setUTCSeconds(a.dt),Object(c.useEffect)((function(){var e=n.currentWeather$.subscribe((function(e){r(e)}));return function(){e.unsubscribe()}})),s.a.createElement("div",{className:"app-title"},s.a.createElement("h1",null,a?a.name:""),s.a.createElement("p",null,a?"data as on ".concat(o):""))}a(45);n.a.render(s.a.createElement(M.Provider,{value:F},s.a.createElement(U.Provider,{value:O},s.a.createElement((function(){var e=Object(c.useState)(),t=Object(i.a)(e,2),a=t[0],r=t[1],n=Object(c.useContext)(M),o=a?a.currentWeather:null,l=a?a.currentForecast:null;navigator.geolocation&&!a&&navigator.geolocation.getCurrentPosition((function(e){var t={};t.currentLocation={lat:e.coords.latitude,lon:e.coords.longitude,city:""},n.getCurrentWeatherData(t.currentLocation).then((function(e){t.currentWeather=e,n.getCurrentForecastWeatherData(t.currentLocation).then((function(e){t.currentForecast=e,r(t)}))}))}));var u=s.a.createElement(w.a,{position:"static"},s.a.createElement(g.a,null,s.a.createElement(x.a,{edge:"start",color:"inherit","aria-label":"menu"},s.a.createElement("i",{className:"material-icons"},"menu")),s.a.createElement(_,null),s.a.createElement("div",null,s.a.createElement(W.a,{"aria-label":"position",name:"position",row:!0,value:"m"},s.a.createElement(N.a,{value:"m",control:s.a.createElement(v.a,null),label:"Metric",labelPlacement:"start"})))));return s.a.createElement("div",{className:"root-container"},u,s.a.createElement("div",null,s.a.createElement(E,{currentWeather:o,forecast:l})))}),null))),document.getElementById("app-root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.50a454c5.chunk.js.map