(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{48:function(e,t,a){e.exports=a(62)},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var r=a(7),n=a.n(r),c=a(0),o=a.n(c),i=a(12),s=(a(53),a(54),a(14)),l=a(9),u=a(38),p=a(39),m=a(42),h=(a(55),function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=new Date(1);e.setUTCSeconds(this.props.current.sys.sunrise);var t=new Date(1);t.setUTCSeconds(this.props.current.sys.sunset);var a=new Date(1);return a.setUTCSeconds(this.props.current.dt),o.a.createElement("div",{className:"current-weather-cont"},o.a.createElement("img",{className:"weather-ico",src:"https://openweathermap.org/img/wn/".concat(this.props.current.weather[0].icon,"@2x.png"),alt:"weather info"}),o.a.createElement("div",{className:"temp-info"},o.a.createElement("p",{className:"temp bold"},this.props.current.main.temp,"\xb0C",o.a.createElement("span",{className:"feels_like"},"feels like ",this.props.current.main.feels_like,"\xb0C")),o.a.createElement("p",{className:"sep"},"|"),o.a.createElement("p",{className:"oth-det"},o.a.createElement("span",{className:"bold"},this.props.current.weather[0].main)),o.a.createElement("p",{className:"sep"},"|"),o.a.createElement("p",{className:"oth-det"}," ",this.props.current.main.temp_min,"/",this.props.current.main.temp_max,"\xb0C")),o.a.createElement("p",{className:"misc-info misc-info--sep"},"Pressure ",this.props.current.main.pressure," hPa ",o.a.createElement("span",{className:"gap"})," Humidity ",this.props.current.main.humidity,"%"),o.a.createElement("p",{className:"misc-info"},"Wind speed ",this.props.current.wind.speed," mtr/sec ",o.a.createElement("span",{className:"gap"})," Wind direction ",this.props.current.wind.deg,"\xb0(meteorological)"),o.a.createElement("p",{className:"misc-info"},"Sunrise ",e.getHours()+":"+e.getMinutes()," ",o.a.createElement("span",{className:"gap"})," Sunset ",t.getHours()+":"+t.getMinutes()),o.a.createElement("p",{className:"loc misc-info"},o.a.createElement("i",{className:"material-icons"},"place"),o.a.createElement("span",null,"(",this.props.current.coord.lat,", ",this.props.current.coord.lon,")")),o.a.createElement("p",{className:"misc-info misc-info--note"},o.a.createElement("sup",null,"**"),"Data as on ",a.toDateString()+" "+a.toLocaleTimeString()))}}]),t}(o.a.Component)),d=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],f=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function b(e){var t=new Date(1);return t.setUTCSeconds(e.item.dt),o.a.createElement("div",{className:"future-status__item"},o.a.createElement("label",{className:"item"},d[t.getDay()]),o.a.createElement("label",{className:"item"},f[t.getMonth()]," ",t.getDate()),o.a.createElement("label",{className:"item"},t.getHours()+":"+t.getMinutes()),o.a.createElement("img",{className:"item ico",src:"https://openweathermap.org/img/wn/".concat(e.item.weather[0].icon,"@2x.png"),alt:"weather info"}),o.a.createElement("label",{className:"item"},e.item.weather[0].main),o.a.createElement("label",{className:"item"},(e.item.main.temp_min+e.item.main.temp_max)/2,"\xb0C"))}var g={appid:"adb9dd6b20cadd87d12b7df253187477",forecastPivotHour:8,api:{currentWeatherDataByCityUrl:"https://api.openweathermap.org/data/2.5/weather?q={location}&appid={appid}&units=metric",currentWeatherDataByCoordUrl:"https://api.openweathermap.org/data/2.5/weather?lat={lat}&lon={lon}&appid={appid}&units=metric",currentWeatherForecastDataByCoordUrl:"https://api.openweathermap.org/data/2.5/forecast?lat={lat}&lon={lon}&appid=adb9dd6b20cadd87d12b7df253187477&units=metric"}},E=function(){function e(){Object(s.a)(this,e)}return Object(l.a)(e,null,[{key:"getDistinctForecastItems",value:function(t,a){var r=new Map,n=new Date(1);return n.setUTCSeconds(t.dt),a.list.forEach((function(t,a){var c=new Date(1);c.setUTCSeconds(t.dt),e.isSameDay(n,c)||r.has(c.getDate())||c.getHours()===g.forecastPivotHour&&r.set(c.getDate(),t)})),r}},{key:"isSameDay",value:function(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getUTCFullYear()}}]),e}();function v(e){if(!e.currentWeather)return null;var t=[];return e.forecast&&E.getDistinctForecastItems(e.currentWeather,e.forecast).forEach((function(e){t.push(o.a.createElement(b,{item:e,key:e.dt}))})),o.a.createElement("div",{className:"home-container"},o.a.createElement(h,{current:e.currentWeather}),o.a.createElement("div",{className:"future-status"},t))}var w=a(92),y=a(93),D=a(98),S=a(99),W=a(94),N=a(97),j=a(25),k=a.n(j),O=a(30),x=function(){function e(t){Object(s.a)(this,e),this.appDataStore=t}return Object(l.a)(e,[{key:"getCurrentForecastWeatherData",value:function(){var e=Object(O.a)(k.a.mark((function e(t){var a,r,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.appDataStore.currentForecastWeather){e.next=2;break}return e.abrupt("return",this.appDataStore.currentForecastWeather);case 2:if(a="",!t.lat||!t.lon){e.next=7;break}a=g.api.currentWeatherForecastDataByCoordUrl.replace("{lat}",t.lat.toString()).replace("{lon}",t.lon.toString()),e.next=8;break;case 7:throw new Error("Location not defined");case 8:return a=a.replace("{appid}",g.appid),e.next=11,fetch(a);case 11:if(!(r=e.sent).ok){e.next=21;break}return e.next=15,r.json();case 15:return n=e.sent,this.appDataStore.currentForecastWeather=n,this.appDataStore.currentForecastWeather$.next(n),e.abrupt("return",n);case 21:throw new Error("error while invoking current weather data");case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCurrentWeatherData",value:function(){var e=Object(O.a)(k.a.mark((function e(t){var a,r,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.appDataStore.currentWeather){e.next=2;break}return e.abrupt("return",this.appDataStore.currentWeather);case 2:if(a="",!t.city){e.next=7;break}a=g.api.currentWeatherDataByCityUrl.replace("{location}",t.city),e.next=12;break;case 7:if(!t.lat||!t.lon){e.next=11;break}a=g.api.currentWeatherDataByCoordUrl.replace("{lat}",t.lat.toString()).replace("{lon}",t.lon.toString()),e.next=12;break;case 11:throw new Error("Location not defined");case 12:return a=a.replace("{appid}",g.appid),e.next=15,fetch(a);case 15:if(!(r=e.sent).ok){e.next=25;break}return e.next=19,r.json();case 19:return n=e.sent,this.appDataStore.currentWeather=n,this.appDataStore.currentWeather$.next(n),e.abrupt("return",n);case 25:throw new Error("error while invoking current weather data");case 26:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),C=a(95),F=new(function(){function e(){Object(s.a)(this,e),this.currentWeather=null,this.currentForecastWeather=null,this.currentLocation={},this.currentWeather$=new C.a,this.currentForecastWeather$=new C.a}return Object(l.a)(e,[{key:"destroy",value:function(){this.currentWeather$.unsubscribe()}}]),e}()),U=new x(F),M=o.a.createContext(U),T=o.a.createContext(F),H=a(96),P=a(89),_=a(90),B=a(91);function L(e){var t=Object(c.useState)(e.open),a=Object(i.a)(t,2),r=a[0],n=a[1];return Object(c.useEffect)((function(){n(e.open)}),[e.open]),o.a.createElement(o.a.Fragment,null,o.a.createElement(H.a,{open:r,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},o.a.createElement(P.a,{id:"alert-dialog-title"},e.title),o.a.createElement(_.a,null,o.a.createElement(B.a,{id:"alert-dialog-description"},e.children))))}function $(){var e=Object(c.useState)(),t=Object(i.a)(e,2),a=t[0],r=t[1],n=Object(c.useContext)(T);return Object(c.useEffect)((function(){var e=n.currentWeather$.subscribe((function(e){r(e)}));return function(){e.unsubscribe()}})),o.a.createElement("div",{className:"app-title"},o.a.createElement("h1",null,a?a.name:""))}a(61);n.a.render(o.a.createElement(M.Provider,{value:U},o.a.createElement(T.Provider,{value:F},o.a.createElement((function(){var e=Object(c.useState)(),t=Object(i.a)(e,2),a=t[0],r=t[1],n=Object(c.useState)(!1),s=Object(i.a)(n,2),l=s[0],u=s[1],p=Object(c.useState)(!1),m=Object(i.a)(p,2),h=m[0],d=m[1],f=Object(c.useContext)(M),b=a?a.currentWeather:null,g=a?a.currentForecast:null;Object(c.useEffect)((function(){!navigator.geolocation||a||l||h?navigator.geolocation||d(!0):navigator.geolocation.getCurrentPosition((function(e){var t={};t.currentLocation={lat:e.coords.latitude,lon:e.coords.longitude,city:""},f.getCurrentWeatherData(t.currentLocation).then((function(e){t.currentWeather=e,f.getCurrentForecastWeatherData(t.currentLocation).then((function(e){t.currentForecast=e,r(t)}))}))}),(function(){u(!0)}))}),[a,l,h,f]);var E=o.a.createElement(w.a,{position:"static"},o.a.createElement(y.a,null,o.a.createElement(N.a,{edge:"start",color:"inherit","aria-label":"menu"},o.a.createElement("i",{className:"material-icons"},"menu")),o.a.createElement($,null),o.a.createElement("div",null,o.a.createElement(S.a,{"aria-label":"position",name:"position",row:!0,value:"m"},o.a.createElement(W.a,{value:"m",control:o.a.createElement(D.a,null),label:"Metric",labelPlacement:"start"})))));return o.a.createElement("div",{className:"root-container"},E,o.a.createElement("div",null,o.a.createElement(v,{currentWeather:b,forecast:g})),o.a.createElement(L,{open:l,title:"Allow location access"},o.a.createElement("span",null,"App needs access to your current location to get your geo coordinates, However it seems like you have dsabled or denied it")),o.a.createElement(L,{open:h,title:"Geolocation not supported"},o.a.createElement("span",null,"It seems like you are using a crapy old device or you might have disabled geolocation")))}),null))),document.getElementById("app-root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.b79a5132.chunk.js.map